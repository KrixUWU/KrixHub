local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UIS = game:GetService("UserInputService")

local player = Players.LocalPlayer
local tpWalkEnabled = false
local speed = 2

local function setupCharacter(char)
    local HRP = char:WaitForChild("HumanoidRootPart")
    local Hum = char:WaitForChild("Humanoid")

    RunService.RenderStepped:Connect(function()
        if tpWalkEnabled then
            local dir = Hum.MoveDirection

            -- obrÃ³t natychmiastowy zgodnie z kierunkiem ruchu
            if dir.Magnitude > 0 then
                HRP.CFrame = CFrame.new(HRP.Position, HRP.Position + dir) 
                HRP.CFrame = HRP.CFrame + dir * speed
            end
        end
    end)
end

player.CharacterAdded:Connect(setupCharacter)
if player.Character then setupCharacter(player.Character) end

-- GUI
local ScreenGui = Instance.new("ScreenGui", game.Players.LocalPlayer.PlayerGui)
local Frame = Instance.new("Frame", ScreenGui)
Frame.Size = UDim2.new(0, 200, 0, 150)
Frame.Position = UDim2.new(0, 20, 0, 200)
Frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)

local Toggle = Instance.new("TextButton", Frame)
Toggle.Size = UDim2.new(1, -20, 0, 40)
Toggle.Position = UDim2.new(0, 10, 0, 10)
Toggle.Text = "TP Walk: OFF"

local SpeedLabel = Instance.new("TextLabel", Frame)
SpeedLabel.Size = UDim2.new(1, -20, 0, 20)
SpeedLabel.Position = UDim2.new(0, 10, 0, 60)
SpeedLabel.Text = "Speed: 2"

local SpeedSlider = Instance.new("TextButton", Frame)
SpeedSlider.Size = UDim2.new(1, -20, 0, 40)
SpeedSlider.Position = UDim2.new(0, 10, 0, 90)
SpeedSlider.Text = "Increase Speed"

-- logika
local tpWalkEnabled = false
local speed = 2

Toggle.MouseButton1Click:Connect(function()
    tpWalkEnabled = not tpWalkEnabled
    Toggle.Text = "TP Walk: " .. (tpWalkEnabled and "ON" or "OFF")
end)

SpeedSlider.MouseButton1Click:Connect(function()
    speed = speed + 1
    if speed > 20 then speed = 1 end
    SpeedLabel.Text = "Speed: " .. speed
end)
